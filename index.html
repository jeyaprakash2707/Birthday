<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Countdown for My Love</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <style>
        .heartbeat-glow {
  animation: heartbeatGlow 2.5s ease-in-out infinite;
  text-shadow: 0 0 10px rgba(255, 192, 203, 0.5);
  background: linear-gradient(45deg, #ff9a9e, #fecfef, #fecfef, #ff9a9e);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@keyframes heartbeatGlow {
  0%, 100% {
    transform: scale(1);
    background-position: 0% 50%;
    filter: drop-shadow(0 0 5px rgba(255, 182, 193, 0.6));
  }
  14% {
    transform: scale(1.02);
    filter: drop-shadow(0 0 15px rgba(255, 182, 193, 0.8));
  }
  28% {
    transform: scale(1);
    background-position: 100% 50%;
    filter: drop-shadow(0 0 8px rgba(255, 182, 193, 0.7));
  }
}

@keyframes softGlow {
  0% { filter: drop-shadow(0 0 5px rgba(255, 182, 193, 0.3)); }
  100% { filter: drop-shadow(0 0 12px rgba(255, 182, 193, 0.6)); }
}
.shimmer-love {
  position: relative;
  background: linear-gradient(90deg, #fff 0%, #ffb6c1 25%, #ff69b4 50%, #ffb6c1 75%, #fff 100%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmerLove 3s ease-in-out infinite;
}

@keyframes shimmerLove {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Option 3: Gentle Pulse with Stars */
.gentle-pulse-stars {
  animation: gentlePulse 2s ease-in-out infinite alternate;
  position: relative;
  background: linear-gradient(45deg, #ffeaa7, #fab1a0, #fd79a8, #fdcb6e);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gentle-pulse-stars::before {
  content: '✨';
  position: absolute;
  left: -25px;
  top: 50%;
  transform: translateY(-50%);
  animation: twinkle 1.5s ease-in-out infinite alternate;
}

.gentle-pulse-stars::after {
  content: '✨';
  position: absolute;
  right: -25px;
  top: 50%;
  transform: translateY(-50%);
  animation: twinkle 1.5s ease-in-out infinite alternate 0.7s;
}

@keyframes gentlePulse {
  0% {
    transform: scale(1);
    background-position: 0% 50%;
    filter: brightness(1);
  }
  100% {
    transform: scale(1.01);
    background-position: 100% 50%;
    filter: brightness(1.1);
  }
}

@keyframes twinkle {
  0% { opacity: 0.5; transform: translateY(-50%) scale(0.8); }
  100% { opacity: 1; transform: translateY(-50%) scale(1.2); }
}

/* Option 4: Romantic Typewriter */
.romantic-typewriter {
  overflow: hidden;
  border-right: 2px solid rgba(255, 182, 193, 0.7);
  white-space: nowrap;
  animation: romanticTyping 4s steps(40, end), blinkCursor 0.8s step-end infinite;
  background: linear-gradient(45deg, #ff9a9e, #fecfef);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@keyframes romanticTyping {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blinkCursor {
  from, to { border-color: transparent; }
  50% { border-color: rgba(255, 182, 193, 0.7); }
}

/* Option 5: Ultimate Romantic with Heartbeat & Fireworks (Recommended) */
.ultimate-romantic {
  background: linear-gradient(45deg, #FF6EC7, #00D4FF, #FFD700, #00FF88, #FF8C42, #9D4EDD);
  background-size: 400% 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: 
    ultimateRomantic 4s ease-in-out infinite,
    heartBeat 1.5s ease-in-out infinite,
    softGlow 2s ease-in-out infinite alternate;
  position: relative;
  font-weight: 600;
  letter-spacing: 0.8px;
  overflow: visible !important;
  padding: 15px 0;
  margin: 20px 0;
  z-index: 10;
}

.ultimate-romantic::before,
.ultimate-romantic::after {
  content: '✨';
  position: absolute;
  font-size: 14px;
  animation: sparkle 2s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: -1;
}

.ultimate-romantic::before {
  top: -10px;
  left: -30px;
  animation-delay: 0s;
}

.ultimate-romantic::after {
  top: -8px;
  right: -30px;
  animation-delay: 1s;
}

.ultimate-romantic:hover {
  animation-play-state: paused;
  transform: scale(1.03);
  transition: transform 0.3s ease;
}

@keyframes ultimateRomantic {
  0%, 100% { background-position: 0% 50%; }
  25% { background-position: 100% 50%; }
  50% { background-position: 50% 100%; }
  75% { background-position: 50% 0%; }
}

@keyframes heartBeat {
  0%, 100% { 
    transform: scale(1);
    filter: drop-shadow(0 0 8px rgba(255, 110, 199, 0.5));
  }
  14% { 
    transform: scale(1.02);
    filter: drop-shadow(0 0 18px rgba(0, 212, 255, 0.7));
  }
  28% { 
    transform: scale(1);
    filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.6));
  }
  42% { 
    transform: scale(1.01);
    filter: drop-shadow(0 0 15px rgba(0, 255, 136, 0.6));
  }
}

@keyframes sparkle {
  0%, 100% { 
    opacity: 0.6; 
    transform: scale(0.8) rotate(0deg);
    filter: hue-rotate(0deg);
  }
  50% { 
    opacity: 1; 
    transform: scale(1.2) rotate(180deg);
    filter: hue-rotate(180deg);
  }
}

@keyframes softGlow {
  0% { filter: drop-shadow(0 0 8px rgba(255, 110, 199, 0.5)); }
  100% { filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.8)); }
}
        body {
            font-family: 'Montserrat', sans-serif;
        }
        
        .dancing-script {
            font-family: 'Dancing Script', cursive;
        }
        
        .step {
            display: none;
        }
        
        .step.active {
            display: block;
            animation: fadeInUp 0.8s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes polaroidFloat {
            0%, 100% { transform: rotate(-2deg) translateY(0px); }
            50% { transform: rotate(2deg) translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 157, 0.5); }
            50% { box-shadow: 0 0 30px rgba(255, 107, 157, 0.8); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .heart {
            animation: heartbeat 1.5s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .heart:hover {
            transform: scale(1.2);
        }
        
        .floating-heart {
            position: absolute;
            color: #ff6b9d;
            pointer-events: none;
            animation: float 2s ease-out forwards;
        }
        
        @keyframes floatUp {
            to {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .floating-heart {
            animation: floatUp 3s ease-out forwards;
        }
        
        .polaroid {
            animation: polaroidFloat 4s ease-in-out infinite;
        }
        
        .polaroid:nth-child(2) {
            animation-delay: 1s;
        }
        
         .typing-effect {
            overflow: hidden;
            white-space: normal;
            border-right: 2px solid #ff6b9d;
            min-height: 60px;
        }
        
        .typing-cursor {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        .photo-frame img {
        object-position: 0% 75%;
        }
        
        
        .progress {
            background: linear-gradient(90deg, #ff6b9d, #ffd93d, #6bcf7f);
            transition: width 0.5s ease;
        }
        
        .floating-hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .floating-bg-heart {
            position: absolute;
            color: rgba(255, 107, 157, 0.3);
            animation: float 3s ease-in-out infinite;
        }
        
        .social-icon {
            transition: all 0.3s ease;
        }
        
        .photo-2-custom {
            object-position: center 20%; /* Moves image up to show face */
        }
        .social-icon:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .countdown-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 2rem 1rem;
            box-sizing: border-box;
        }

        .countdown-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 2rem;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: pulse 2s ease-in-out infinite, glow 3s ease-in-out infinite;
        }

        .time-unit {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.8), rgba(138, 43, 226, 0.8));
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            padding: 1rem;
            margin: 0.5rem;
            min-width: 100px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .locked-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hidden {
            display: none !important;
        }
        
        /* Fix for screen size issues */
        @media (max-height: 700px) {
            .countdown-container {
                padding-top: 1.5rem;
                padding-bottom: 1.5rem;
            }
            
            .mb-8 {
                margin-bottom: 1.5rem;
            }
        }
        
        /* Ensure content is properly spaced on all devices */
        .max-w-2xl {
            width: 100%;
            max-width: 42rem;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        /* Music Player Styles - Fixed */
        .music-player {
            background: rgba(255, 255, 255, 0.15) !important;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: block !important;
            visibility: visible !important;
            position: relative;
            z-index: 10;
        }

        .album-art {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b9d, #8a2be2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: rotate 10s linear infinite;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .album-art::before {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .album-art.paused {
            animation-play-state: paused;
        }

        .play-pause-btn {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ff6b9d, #8a2be2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .play-pause-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .progress-container {
            position: relative;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin: 1rem 0;
            cursor: pointer;
        }

        .progress-filled {
            height: 100%;
            background: linear-gradient(90deg, #ff6b9d, #ffd93d);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s ease;
        }

        .playlist-item {
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .playlist-item:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 107, 157, 0.5);
        }

        .playlist-item.active {
            background: rgba(255, 107, 157, 0.3);
            border-color: rgba(255, 107, 157, 0.8);
        }

        .volume-control {
            width: 80px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            outline: none;
            appearance: none;
        }

        .volume-control::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b9d, #8a2be2);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .control-btn {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 50%;
        }

        .control-btn:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        /* Fixed song info alignment */
        .song-info {
            min-width: 0;
            flex: 1;
        }

        .song-title {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 0.25rem;
        }

        .song-artist {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Music player responsive */
        @media (max-width: 768px) {
            .album-art {
                width: 60px;
                height: 60px;
            }
            
            .play-pause-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .volume-control {
                width: 60px;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 min-h-screen overflow-x-hidden pb-8">
    <div id="particles-js"></div>
    
   <!-- Countdown Container - Mobile Optimized -->
<div id="countdownContainer" class="min-h-screen flex flex-col justify-center items-center px-4 py-6 text-center">
    <!-- Top Message - Mobile Friendly -->
    <div class="mb-6 md:mb-8">
        <h1 class="text-2xl md:text-4xl lg:text-6xl font-bold text-white mb-2 md:mb-4 dancing-script">
            My Dearest Deepthi 💕
        </h1>
        <p class="text-sm md:text-xl lg:text-2xl text-white/90 mb-2">
            Your special day is almost here, my love! ✨
        </p>
        <div class="text-lg md:text-2xl text-pink-300 font-semibold">
            💖 August 23, 2025 💖
        </div>
    </div>

    <!-- Countdown Timer - Compact for Mobile -->
    <div class="bg-white/10 backdrop-blur-lg rounded-2xl md:rounded-3xl p-4 md:p-8 border border-white/20 shadow-2xl mb-6 md:mb-8 max-w-sm md:max-w-2xl w-full">
        <div class="grid grid-cols-2 gap-3 md:gap-6">
            <!-- Days -->
            <div class="bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl md:rounded-2xl p-3 md:p-6 text-white transform hover:scale-105 transition-all duration-300 glow-effect">
                <div class="text-2xl md:text-4xl lg:text-6xl font-bold" id="days">00</div>
                <div class="text-xs md:text-lg lg:text-xl opacity-90">Days</div>
            </div>
            
            <!-- Hours -->
            <div class="bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl md:rounded-2xl p-3 md:p-6 text-white transform hover:scale-105 transition-all duration-300 glow-effect">
                <div class="text-2xl md:text-4xl lg:text-6xl font-bold" id="hours">00</div>
                <div class="text-xs md:text-lg lg:text-xl opacity-90">Hours</div>
            </div>
            
            <!-- Minutes -->
            <div class="bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl md:rounded-2xl p-3 md:p-6 text-white transform hover:scale-105 transition-all duration-300 glow-effect">
                <div class="text-2xl md:text-4xl lg:text-6xl font-bold" id="minutes">00</div>
                <div class="text-xs md:text-lg lg:text-xl opacity-90">Minutes</div>
            </div>
            
            <!-- Seconds -->
            <div class="bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl md:rounded-2xl p-3 md:p-6 text-white transform hover:scale-105 transition-all duration-300 glow-effect">
                <div class="text-2xl md:text-4xl lg:text-6xl font-bold" id="seconds">00</div>
                <div class="text-xs md:text-lg lg:text-xl opacity-90">Seconds</div>
            </div>
        </div>
    </div>

    <!-- Birthday Music Player - Fixed for Countdown -->
    <div class="music-player max-w-sm md:max-w-2xl w-full" id="countdownMusicPlayer">
        <div class="text-center mb-4">
            <h3 class="text-lg md:text-xl text-white font-semibold dancing-script mb-1">🎵 Birthday Playlist 🎵</h3>
            <p class="text-sm text-white/80">Music to make the wait sweeter</p>
        </div>
        
        <!-- Music Player Interface -->
        <div class="flex items-center gap-4 mb-4">
            <!-- Album Art -->
            <div class="album-art" id="albumArt">
                <i class="fas fa-music text-white text-2xl"></i>
            </div>
            
            <!-- Song Info and Controls -->
            <div class="song-info">
                <div class="song-title text-white font-medium" id="currentSong">Tum Hi Ho - Arijit Singh</div>
                <div class="song-artist text-white/70 text-sm" id="currentArtist">Bollywood Romance</div>
                
                <!-- Progress Bar -->
                <div class="progress-container mt-2" onclick="seekTo(event)">
                    <div class="progress-filled" id="progressFilled"></div>
                </div>
                
                <!-- Time Display -->
                <div class="flex justify-between text-xs text-white/60 mt-1">
                    <span id="currentTime">0:00</span>
                    <span id="totalTime">4:20</span>
                </div>
            </div>
        </div>
        
        <!-- Control Buttons -->
        <div class="flex items-center justify-center gap-4 mb-4">
            <button class="control-btn" onclick="previousSong()" title="Previous">
                <i class="fas fa-step-backward"></i>
            </button>
            
            <button class="play-pause-btn" id="playPauseBtn" onclick="togglePlayPause()" title="Play/Pause">
                <i class="fas fa-play" id="playPauseIcon"></i>
            </button>
            
            <button class="control-btn" onclick="nextSong()" title="Next">
                <i class="fas fa-step-forward"></i>
            </button>
            
            <!-- Volume Control -->
            <div class="flex items-center gap-2 ml-4">
                <i class="fas fa-volume-down text-white/70"></i>
                <input type="range" min="0" max="100" value="70" 
                       class="volume-control"
                       id="volumeControl" onchange="changeVolume()">
            </div>
        </div>
        
        <!-- Playlist -->
        <div class="playlist max-h-32 overflow-y-auto">
            <div class="text-white/80 text-sm mb-2 flex items-center">
                <i class="fas fa-list-music mr-2"></i>
                Playlist
            </div>
            
            <div class="playlist-item active" onclick="selectSong(0)">
                <div class="flex justify-between items-center">
                    <div class="min-w-0 flex-1">
                        <div class="text-white text-sm font-medium truncate">1. Song-For-Your-Special-Day</div>
                        <div class="text-white/60 text-xs truncate">Special Artist</div>
                    </div>
                    <div class="text-white/60 text-xs ml-2 flex-shrink-0">3:36</div>
                </div>
            </div>
            
            <div class="playlist-item" onclick="selectSong(1)">
                <div class="flex justify-between items-center">
                    <div class="min-w-0 flex-1">
                        <div class="text-white text-sm font-medium truncate">2. Tum Hi Ho</div>
                        <div class="text-white/60 text-xs truncate">Jeya</div>
                    </div>
                    <div class="text-white/60 text-xs ml-2 flex-shrink-0">4:22</div>
                </div>
            </div>
            <div class="playlist-item" onclick="selectSong(2)">
                <div class="flex justify-between items-center">
                    <div class="min-w-0 flex-1">
                        <div class="text-white text-sm font-medium truncate">3. Kathal Mazhaiye</div>
                        <div class="text-white/60 text-xs truncate">Arul</div>
                    </div>
                    <div class="text-white/60 text-xs ml-2 flex-shrink-0">1:25</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Message - Mobile Optimized -->
    <div class="bg-white/10 backdrop-blur-sm rounded-xl md:rounded-2xl p-4 md:p-6 border border-white/20 max-w-sm md:max-w-2xl w-full mt-6">
        <p class="text-sm md:text-lg text-white/90 mb-3 ultimate-romantic">
            You are my today and all of my tomorrows...
        </p>
        <p class="text-sm md:text-lg text-white/90 mb-3">
            💝 I've prepared something very special for your birthday...
        </p>
        <p class="text-xs md:text-base text-yellow-300 mb-3">
            🔒 This magical gift will unlock exactly at midnight on your special day!
        </p>
        <p class="text-xs md:text-sm text-white/80">
            ⏰ Keep this page bookmarked and return on August 23rd for your surprise! 🎁
        </p>
    </div>
</div>
    
    <!-- Floating Hearts Background -->
    <div class="floating-hearts-bg">
        <div class="floating-bg-heart text-2xl" style="top: 10%; left: 10%; animation-delay: 0s;">💕</div>
        <div class="floating-bg-heart text-3xl" style="top: 20%; right: 15%; animation-delay: 1s;">❤️</div>
        <div class="floating-bg-heart text-xl" style="top: 60%; left: 20%; animation-delay: 2s;">💖</div>
        <div class="floating-bg-heart text-2xl" style="bottom: 30%; right: 10%; animation-delay: 1.5s;">💝</div>
        <div class="floating-bg-heart text-xl" style="bottom: 10%; left: 30%; animation-delay: 0.5s;">💗</div>
    </div>
    
    <!-- Main Birthday Content (hidden until birthday) -->
    <div id="mainContent" class="relative z-10 min-h-screen flex flex-col hidden">
        <!-- Progress Bar -->
        <div class="progress-bar w-full h-2 fixed top-0 z-20">
            <div class="progress h-full rounded-r-full" id="progressBar" style="width: 16.66%"></div>
        </div>

        <div class="flex-1 flex items-center justify-center p-4 py-8 md:py-12 my-4">
            <div class="max-w-2xl w-full text-center">

                <!-- Step 1: Greeting -->
                <div class="step active" id="step1">
                    <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 dancing-script">Happy Birthday, Dearie..!</h1>
                    <p class="text-lg md:text-xl text-white/90 mb-4">I've created something magical just for you.</p>
                    <p class="text-base md:text-lg text-white/80 mb-8">Are you ready to begin this special journey?</p>
                    <div class="mb-8">
                        <img src="https://png.pngtree.com/png-vector/20250422/ourmid/pngtree-cute-girl-holding-birthday-cake-smiling-cheerfully-png-image_16067658.png" 
                             class="w-48 h-48 md:w-64 md:h-64 mx-auto object-contain rounded-2xl" alt="Birthday Girl">
                    </div>
                    <button class="bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg" onclick="nextStep()">
                        Open Your Gift 🎁
                    </button>
                </div>

                <!-- Step 2: Heart Animation -->
                <div class="step" id="step2">
                    <h2 class="text-3xl md:text-5xl font-bold text-white mb-4 dancing-script">For You, <span id="displayName">Mine</span></h2>
                    <p class="text-lg md:text-xl text-white/90 mb-8">Click on the heart!</p>
                    <div class="mb-8 relative">
                        <div class="heart text-8xl md:text-9xl text-red-500" id="interactiveHeart" onclick="createHearts()">❤️</div>
                        <div id="heartContainer" class="absolute inset-0 pointer-events-none"></div>
                    </div>
                    <div id="heartMessage" class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/20">
                        <p class="text-lg md:text-xl text-white/90">Every beat of my heart whispers your name, Deepthi...❤️
                    </div>
                    <button class="bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg" onclick="nextStep()">
                        Continue to Your Message 💝
                    </button>
                </div>

                <!-- Step 3: Birthday Message -->
                <div class="step" id="step3">
                    <h2 class="text-3xl md:text-5xl font-bold text-white mb-8 dancing-script">My Special Message For You</h2>
                    <div class="mb-8">
                        <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-4 inline-block border border-white/20">
                           <img src="./assets/from.jpg" 
                                 class="w-48 h-48 md:w-64 md:h-64 object-cover rounded-2xl mx-auto" alt="Beautiful You">
                        </div>
                    </div>
                    <div id="typedMessage" class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-white/20">
                          <div class="typing-effect text-lg md:text-xl text-white/90" id="typingText"></div>
                    </div>
                    <button class="bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg" onclick="nextStep()">
                        See Your Surprise 🎊
                    </button>
                </div>

                <!-- Step 4: Memory Lane -->
<div class="step" id="step4">
    <h2 class="text-2xl md:text-5xl font-bold text-white mb-4 dancing-script">You Are So Beautiful ✨</h2>
    <p class="text-base md:text-xl text-white/90 mb-6">A gallery of your amazing moments that make my heart skip a beat...</p>
    
    <!-- Photo Gallery - 2 Photos Per Row -->
    <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-6 mb-8">
        <!-- Photo 1 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
            <img src="./assets/deep5.png" 
                 class="w-full h-32 md:h-56 object-cover rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 1">
            <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Stunning 😍</div>
        </div>
        
        <!-- Photo 2 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
    <img src="./assets/deep1.jpg" 
         class="w-full h-32 md:h-56 object-cover object-top md:object-center rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 2">
    <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Sweet 💕</div>
</div>
        
        <!-- Photo 3 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
    <img src="./assets/deep2.jpg" 
     class="w-full h-32 md:h-56 object-cover object-top rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 3">
    <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Perfect ⭐</div>
</div>
        
        <!-- Photo 4 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
            <img src="./assets/deep3.jpg" 
                 class="w-full h-32 md:h-56 object-cover rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 4">
            <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Glowing 🌟</div>
        </div>
        
        <!-- Photo 5 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
            <img src="./assets/deepth4.png" 
                 class="w-full h-32 md:h-56 object-cover rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 5">
            <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Beauty 💖</div>
        </div>
        
        <!-- Photo 6 -->
        <div class="polaroid bg-white p-2 md:p-4 rounded-lg md:rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300">
            <img src="./assets/Screenshot 2025-08-16 183626.png" 
                 class="w-full h-32 md:h-56 object-cover rounded-md md:rounded-lg mb-2 md:mb-4" alt="Beautiful Deepthi 6">
            <div class="text-center text-gray-700 text-xs md:text-lg font-medium">Angel 😇</div>
        </div>
    </div>
    
    <div class="bg-white/10 backdrop-blur-sm rounded-xl md:rounded-2xl p-4 md:p-6 mb-6 md:mb-8 border border-white/20 mx-2">
        <p class="text-base md:text-xl text-white/90 text-center">
            Every photo tells a story of your beauty, inside and out. You make everything brighter just by being you! 🌈✨
        </p>
    </div>
    
    <button class="bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-semibold py-3 px-6 md:px-8 rounded-full text-base md:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg" onclick="nextStep()">
        Your Final Surprise 🎉
    </button>
</div>

                <!-- Step 5: Final Wish -->
                <div class="step" id="step5">
                    <h1 class="text-3xl md:text-5xl font-bold text-white mb-8 dancing-script">
                        🎉 Happy Birthday, Deepthi 💖
                    </h1>
                    
                    <!-- Music Player in Final Step -->
                    <div class="music-player max-w-sm md:max-w-2xl w-full mx-auto mb-8" id="finalMusicPlayer">
                        <div class="text-center mb-4">
                            <h3 class="text-lg md:text-xl text-white font-semibold dancing-script mb-1">🎵 Your Special Birthday Song 🎵</h3>
                            <p class="text-sm text-white/80">Let the music celebrate you</p>
                        </div>
                        
                        <!-- Music Player Interface -->
                        <div class="flex items-center gap-4 mb-4">
                            <!-- Album Art -->
                            <div class="album-art" id="finalAlbumArt">
                                <i class="fas fa-heart text-white text-2xl"></i>
                            </div>
                            
                            <!-- Song Info and Controls -->
                            <div class="song-info">
                                <div class="song-title text-white font-medium" id="finalCurrentSong">Happy Birthday My Love</div>
                                <div class="song-artist text-white/70 text-sm" id="finalCurrentArtist">Special Dedication</div>
                                
                                <!-- Progress Bar -->
                                <div class="progress-container mt-2" onclick="seekToFinal(event)">
                                    <div class="progress-filled" id="finalProgressFilled"></div>
                                </div>
                                
                                <!-- Time Display -->
                                <div class="flex justify-between text-xs text-white/60 mt-1">
                                    <span id="finalCurrentTime">0:00</span>
                                    <span id="finalTotalTime">3:45</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Control Buttons -->
                        <div class="flex items-center justify-center gap-4">
                            <button class="control-btn" onclick="previousSongFinal()" title="Previous">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            
                            <button class="play-pause-btn" id="finalPlayPauseBtn" onclick="togglePlayPauseFinal()" title="Play/Pause">
                                <i class="fas fa-play" id="finalPlayPauseIcon"></i>
                            </button>
                            
                            <button class="control-btn" onclick="nextSongFinal()" title="Next">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            
                            <!-- Volume Control -->
                            <div class="flex items-center gap-2 ml-4">
                                <i class="fas fa-volume-down text-white/70"></i>
                                <input type="range" min="0" max="100" value="70" 
                                       class="volume-control"
                                       id="finalVolumeControl" onchange="changeVolumeFinal()">
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 mb-8 border border-white/20 space-y-4">
                        <p class="text-lg md:text-xl text-white/90"> May your day be filled with endless joy, sweet laughter, and all the love your heart can hold </p>
                        <p class="text-lg md:text-xl text-white/90"> You light up my world just by being in it - like a million stars in my sky. </p>
                        <p class="text-lg md:text-xl text-white/90"> Counting every moment until I can hold you and celebrate this magical day together! </p>
                        <p class="text-lg md:text-xl text-white/90"> With all my love, forever and always... 💖</p>
                    </div>

                    <div class="text-2xl md:text-3xl text-pink-300 mb-8 dancing-script">Yours truly 😇, </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        let countdownInterval;

        // Birthday date: August 23, 2025 at midnight
        const birthdayDate = new Date('2025-08-23T00:00:00');

        // Music Player Variables - Countdown
        let isPlaying = false;
        let currentSongIndex = 0;
        let currentTime = 0;
        let songDuration = 260; // 4:20 in seconds
        let musicInterval;
        let volume = 0.7;

        // Music Player Variables - Final Step
        let finalIsPlaying = false;
        let finalCurrentSongIndex = 0;
        let finalCurrentTime = 0;
        let finalSongDuration = 225; // 3:45 in seconds
        let finalMusicInterval;
        let finalVolume = 0.7;

        const playlist = [
            { 
                title: "Song-For-Your-Special-Day", 
                artist: "Special Artist", 
                duration: "3:36", 
                durationSec: 216,
                audioUrl: "assets/Song-For-Your-Special-Day.mp3"  // This will play your music.mp3 file
            },
            { 
                title: "Tum Hi Ho", 
                artist: "Another Artist", 
                duration: "4:22", 
                durationSec: 262,
                audioUrl: "assets/Tum Hi Ho.mp3"  // Same file or add more files
            },
            { 
                title: "Kathal Mazhaiye", 
                artist: "Another Artist", 
                duration: "1:25", 
                durationSec: 85,
                audioUrl: "assets/kathal-mazhaiye.mp3"  // Same file or add more files
            },
            
        ];

        const finalPlaylist = [
            { 
                title: "Birthday Special", 
                artist: "For My Love", 
                duration: "3:36", 
                durationSec: 216,
                audioUrl: "/assets/Song-For-Your-Special-Day.mp3"  // Uses your music.mp3 file
            },
            { 
                title: "Celebration Song", 
                artist: "Happy Birthday", 
                duration: "4:12", 
                durationSec: 252,
                audioUrl: "/assets/Tum Hi Ho.mp3"  // Uses your music.mp3 file
            }
        ];

        // Audio elements for playing music
        let audioPlayer = null;
        let finalAudioPlayer = null;

        // Initialize particles
        if (typeof particlesJS !== 'undefined') {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 50 },
                    color: { value: ['#ff6b9d', '#ffd93d', '#6bcf7f'] },
                    shape: { type: 'circle' },
                    size: { value: 3, random: true },
                    move: { enable: true, speed: 1 },
                    opacity: { value: 0.5 }
                }
            });
        }

        // Countdown function
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = birthdayDate.getTime() - now;

            if (distance < 0) {
                // Birthday has arrived! Show the main content
                showBirthdayContent();
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        function showBirthdayContent() {
            clearInterval(countdownInterval);
            document.getElementById('countdownContainer').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            
            // Add celebration effect
            createCelebrationEffect();
        }

        function createCelebrationEffect() {
            // Create confetti-like effect
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
                }, i * 100);
            }
        }

        // Check if it's already the birthday when page loads
        function checkBirthdayStatus() {
            const now = new Date().getTime();
            const distance = birthdayDate.getTime() - now;
            
            if (distance <= 0) {
                showBirthdayContent();
            } else {
                // Start countdown
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
            }
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep++;
                document.getElementById('step' + currentStep).classList.add('active');
                updateProgressBar();
                
                if (currentStep === 3) {
                    startTypingEffect();
                }
                
                // Initialize final music player when reaching step 5
                if (currentStep === 5) {
                    initFinalMusicPlayer();
                }
            }
        }

        function updateProgressBar() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function createHearts() {
            const heartContainer = document.getElementById('heartContainer');
            const hearts = ['❤️', '💕', '💖', '💗', '💝', '💘'];
            
            for (let i = 0; i < 6; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart text-2xl md:text-3xl';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heartContainer.appendChild(heart);
                
                setTimeout(() => {
                    if (heartContainer.contains(heart)) {
                        heartContainer.removeChild(heart);
                    }
                }, 3000);
            }
        }

        function startTypingEffect() {
            const message = `Hey My Dear Girl, on this special day, I want you to know how much joy and light you bring into my life. Your smile brightens even the darkest days, and your laugh is the most beautiful sound I know. I am so grateful to have you in my life. Happy Birthday! 🎂✨`;
            const typingElement = document.getElementById('typingText');
            typingElement.innerHTML = ''; // Clear any existing content
            let i = 0;
            
            function typeWriter() {
                if (i < message.length) {
                    typingElement.innerHTML += message.charAt(i);
                    i++;
                    setTimeout(typeWriter, 80);
                } else {
                    // Add blinking cursor at the end
                    typingElement.innerHTML += '<span class="typing-cursor">|</span>';
                    setTimeout(() => {
                        // Remove cursor after a few seconds
                        const cursor = typingElement.querySelector('.typing-cursor');
                        if (cursor) cursor.remove();
                    }, 3000);
                }
            }
            
            typeWriter();
        }

        // COUNTDOWN MUSIC PLAYER FUNCTIONS
        function togglePlayPause() {
            const playPauseIcon = document.getElementById('playPauseIcon');
            const albumArt = document.getElementById('albumArt');
            
            if (isPlaying) {
                isPlaying = false;
                playPauseIcon.classList.remove('fa-pause');
                playPauseIcon.classList.add('fa-play');
                albumArt.classList.add('paused');
                clearInterval(musicInterval);
                
                if (audioPlayer) {
                    audioPlayer.pause();
                }
            } else {
                isPlaying = true;
                playPauseIcon.classList.remove('fa-play');
                playPauseIcon.classList.add('fa-pause');
                albumArt.classList.remove('paused');
                
                playCurrentSong();
                startMusicProgress();
            }
        }

        function playCurrentSong() {
            const currentSong = playlist[currentSongIndex];
            
            if (audioPlayer) {
                audioPlayer.pause();
                audioPlayer.src = currentSong.audioUrl;
            } else {
                audioPlayer = new Audio(currentSong.audioUrl);
                audioPlayer.volume = volume;
                
                audioPlayer.addEventListener('loadedmetadata', () => {
                    songDuration = Math.floor(audioPlayer.duration);
                    updateTimeDisplay();
                });
                
                audioPlayer.addEventListener('timeupdate', () => {
                    if (audioPlayer.duration) {
                        currentTime = Math.floor(audioPlayer.currentTime);
                        updateMusicProgressBar();
                        updateTimeDisplay();
                    }
                });
                
                audioPlayer.addEventListener('ended', () => {
                    nextSong();
                });
                
                audioPlayer.addEventListener('error', (e) => {
                    startMusicProgress();
                });
            }
            
            audioPlayer.play().catch(error => {
                startMusicProgress();
            });
        }

        function startMusicProgress() {
            if (!audioPlayer || audioPlayer.error) {
                musicInterval = setInterval(() => {
                    currentTime += 1;
                    updateMusicProgressBar();
                    updateTimeDisplay();
                    
                    if (currentTime >= songDuration) {
                        nextSong();
                    }
                }, 1000);
            }
        }

        function updateMusicProgressBar() {
            const progress = (currentTime / songDuration) * 100;
            document.getElementById('progressFilled').style.width = Math.max(0, Math.min(100, progress)) + '%';
        }

        function updateTimeDisplay() {
            const minutes = Math.floor(currentTime / 60);
            const seconds = currentTime % 60;
            document.getElementById('currentTime').textContent = minutes + ':' + seconds.toString().padStart(2, '0');
            
            if (audioPlayer && audioPlayer.duration) {
                const totalMinutes = Math.floor(audioPlayer.duration / 60);
                const totalSeconds = Math.floor(audioPlayer.duration % 60);
                document.getElementById('totalTime').textContent = totalMinutes + ':' + totalSeconds.toString().padStart(2, '0');
            }
        }

        function seekTo(event) {
            const progressContainer = event.currentTarget;
            const rect = progressContainer.getBoundingClientRect();
            const clickPosition = (event.clientX - rect.left) / rect.width;
            
            if (audioPlayer && !audioPlayer.error) {
                const seekTime = clickPosition * audioPlayer.duration;
                audioPlayer.currentTime = seekTime;
                currentTime = Math.floor(seekTime);
            } else {
                currentTime = Math.floor(clickPosition * songDuration);
            }
            
            updateMusicProgressBar();
            updateTimeDisplay();
        }

        function selectSong(index) {
            document.querySelectorAll('.playlist-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.querySelectorAll('.playlist-item')[index].classList.add('active');
            
            currentSongIndex = index;
            const song = playlist[index];
            document.getElementById('currentSong').textContent = song.title;
            document.getElementById('currentArtist').textContent = song.artist;
            document.getElementById('totalTime').textContent = song.duration;
            
            currentTime = 0;
            songDuration = song.durationSec;
            updateMusicProgressBar();
            updateTimeDisplay();
            
            if (audioPlayer) {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
            }
            clearInterval(musicInterval);
            
            if (isPlaying) {
                playCurrentSong();
            }
        }

        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % playlist.length;
            selectSong(currentSongIndex);
        }

        function previousSong() {
            currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
            selectSong(currentSongIndex);
        }

        function changeVolume() {
            volume = document.getElementById('volumeControl').value / 100;
            
            if (audioPlayer) {
                audioPlayer.volume = volume;
            }
        }

        // FINAL MUSIC PLAYER FUNCTIONS
        function togglePlayPauseFinal() {
            const playPauseIcon = document.getElementById('finalPlayPauseIcon');
            const albumArt = document.getElementById('finalAlbumArt');
            
            if (finalIsPlaying) {
                finalIsPlaying = false;
                playPauseIcon.classList.remove('fa-pause');
                playPauseIcon.classList.add('fa-play');
                albumArt.classList.add('paused');
                clearInterval(finalMusicInterval);
                
                if (finalAudioPlayer) {
                    finalAudioPlayer.pause();
                }
            } else {
                finalIsPlaying = true;
                playPauseIcon.classList.remove('fa-play');
                playPauseIcon.classList.add('fa-pause');
                albumArt.classList.remove('paused');
                
                playCurrentSongFinal();
                startMusicProgressFinal();
            }
        }

        function playCurrentSongFinal() {
            const currentSong = finalPlaylist[finalCurrentSongIndex];
            
            if (finalAudioPlayer) {
                finalAudioPlayer.pause();
                finalAudioPlayer.src = currentSong.audioUrl;
            } else {
                finalAudioPlayer = new Audio(currentSong.audioUrl);
                finalAudioPlayer.volume = finalVolume;
                
                finalAudioPlayer.addEventListener('loadedmetadata', () => {
                    finalSongDuration = Math.floor(finalAudioPlayer.duration);
                    updateTimeDisplayFinal();
                });
                
                finalAudioPlayer.addEventListener('timeupdate', () => {
                    if (finalAudioPlayer.duration) {
                        finalCurrentTime = Math.floor(finalAudioPlayer.currentTime);
                        updateMusicProgressBarFinal();
                        updateTimeDisplayFinal();
                    }
                });
                
                finalAudioPlayer.addEventListener('ended', () => {
                    nextSongFinal();
                });
                
                finalAudioPlayer.addEventListener('error', (e) => {
                    startMusicProgressFinal();
                });
            }
            
            finalAudioPlayer.play().catch(error => {
                startMusicProgressFinal();
            });
        }

        function startMusicProgressFinal() {
            if (!finalAudioPlayer || finalAudioPlayer.error) {
                finalMusicInterval = setInterval(() => {
                    finalCurrentTime += 1;
                    updateMusicProgressBarFinal();
                    updateTimeDisplayFinal();
                    
                    if (finalCurrentTime >= finalSongDuration) {
                        nextSongFinal();
                    }
                }, 1000);
            }
        }

        function updateMusicProgressBarFinal() {
            const progress = (finalCurrentTime / finalSongDuration) * 100;
            document.getElementById('finalProgressFilled').style.width = Math.max(0, Math.min(100, progress)) + '%';
        }

        function updateTimeDisplayFinal() {
            const minutes = Math.floor(finalCurrentTime / 60);
            const seconds = finalCurrentTime % 60;
            document.getElementById('finalCurrentTime').textContent = minutes + ':' + seconds.toString().padStart(2, '0');
            
            if (finalAudioPlayer && finalAudioPlayer.duration) {
                const totalMinutes = Math.floor(finalAudioPlayer.duration / 60);
                const totalSeconds = Math.floor(finalAudioPlayer.duration % 60);
                document.getElementById('finalTotalTime').textContent = totalMinutes + ':' + totalSeconds.toString().padStart(2, '0');
            }
        }

        function seekToFinal(event) {
            const progressContainer = event.currentTarget;
            const rect = progressContainer.getBoundingClientRect();
            const clickPosition = (event.clientX - rect.left) / rect.width;
            
            if (finalAudioPlayer && !finalAudioPlayer.error) {
                const seekTime = clickPosition * finalAudioPlayer.duration;
                finalAudioPlayer.currentTime = seekTime;
                finalCurrentTime = Math.floor(seekTime);
            } else {
                finalCurrentTime = Math.floor(clickPosition * finalSongDuration);
            }
            
            updateMusicProgressBarFinal();
            updateTimeDisplayFinal();
        }

        function nextSongFinal() {
            finalCurrentSongIndex = (finalCurrentSongIndex + 1) % finalPlaylist.length;
            selectSongFinal(finalCurrentSongIndex);
        }

        function previousSongFinal() {
            finalCurrentSongIndex = (finalCurrentSongIndex - 1 + finalPlaylist.length) % finalPlaylist.length;
            selectSongFinal(finalCurrentSongIndex);
        }

        function selectSongFinal(index) {
            finalCurrentSongIndex = index;
            const song = finalPlaylist[index];
            document.getElementById('finalCurrentSong').textContent = song.title;
            document.getElementById('finalCurrentArtist').textContent = song.artist;
            document.getElementById('finalTotalTime').textContent = song.duration;
            
            finalCurrentTime = 0;
            finalSongDuration = song.durationSec;
            updateMusicProgressBarFinal();
            updateTimeDisplayFinal();
            
            if (finalAudioPlayer) {
                finalAudioPlayer.pause();
                finalAudioPlayer.currentTime = 0;
            }
            clearInterval(finalMusicInterval);
            
            if (finalIsPlaying) {
                playCurrentSongFinal();
            }
        }

        function changeVolumeFinal() {
            finalVolume = document.getElementById('finalVolumeControl').value / 100;
            
            if (finalAudioPlayer) {
                finalAudioPlayer.volume = finalVolume;
            }
        }

        function initFinalMusicPlayer() {
            selectSongFinal(0);
        }

        // Initialize music player
        function initMusicPlayer() {
            selectSong(0);
            
            const musicPlayer = document.querySelector('.music-player');
            if (musicPlayer) {
                musicPlayer.addEventListener('mouseenter', () => {
                    musicPlayer.style.transform = 'translateY(-2px)';
                });
                
                musicPlayer.addEventListener('mouseleave', () => {
                    musicPlayer.style.transform = 'translateY(0)';
                });
            }
        }

        // Add sparkle effect on click
        document.addEventListener('click', function(e) {
            if (!e.target.closest('button') && !e.target.closest('input') && !e.target.closest('.music-player')) {
                createSparkle(e.pageX, e.pageY);
            }
        });

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'fixed pointer-events-none text-yellow-300 text-sm';
            sparkle.innerHTML = '✨';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.animation = 'sparkle 1s ease-out forwards';
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                if (document.body.contains(sparkle)) {
                    document.body.removeChild(sparkle);
                }
            }, 1000);
        }

        // Initialize everything when page loads
        window.addEventListener('load', () => {
            checkBirthdayStatus();
            initMusicPlayer();
        });
    </script>
</body>
</html>